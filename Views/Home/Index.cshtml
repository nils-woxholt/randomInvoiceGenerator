@{
    ViewData["Title"] = "Home Page";
}

<div class="text-center">
    <h1 class="display-4">Welcome</h1>
    <p>Generate a random order</p>
</div>

<div>
    <form action="" method="post" id="order-form">
        <fieldset>
            <legend>Generate orders</legend>
            <div class="alert alert-info">
                <ul>
                    <li>Generate some orders based on random data.</li>
                    <li>Select different order layout templates.</li>
                    <li>Will open each order in a new tab where you can save as pdf from your browser's print menu.</li>
                    <li>You may need to allow pop-ups in your browser when prompted.</li>
                </ul>
            </div>
            <div class="row">
                <div class="col-2">
                    <label>Template</label>
                </div>
                <div class="col-10">
                    <select id="template">
                        <option value="1">Template 1 - Simple layout</option>
                        <option value="2">Template 2 - Black table borders</option>
                        <option value="3">Template 3 - Captions on top</option>
                    </select>
                </div>
            </div>
            <div class="row">
                <div class="col-2">
                    <label>How many?</label>
                </div>
                <div class="col-10">
                    <input type="number" id="how-many" value="1"/>
                </div>
            </div>
            <input type="submit" name="generate" id="generate" value="Generate" class="btn btn-primary" />
        </fieldset>
        
</form>
</div>


@section Scripts {

<script type="text/javascript">
    // generate the required number of links and open each of them in a new browser window
    $('#order-form').submit(function () {
        var loops = $('#how-many').val();
        for (var i = 0; i < loops; i++) {
            var url = './template/' + $('#template').val();
            window.open(url, '_blank');
        }
    });
</script>
}
